{"ast":null,"code":"import _classCallCheck from\"C:/Users/61423/Documents/GitHub/hsantana92.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/61423/Documents/GitHub/hsantana92.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/61423/Documents/GitHub/hsantana92.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/61423/Documents/GitHub/hsantana92.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import Accordion from'react-bootstrap/Accordion';import TogglePower from\"../TogglePower/TogglePower\";import DisplayColor from\"../DisplayColor/DisplayColor\";import LightStatus from\"../LightStatus/LightStatus\";import SetBrightness from\"../SetBrightness/SetBrightness\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=\"Bearer c21a99f98f3d64bce53933d23097cbd4fb880ecf476037f82be4c85eb84ce344\";var ListLights=/*#__PURE__*/function(_Component){_inherits(ListLights,_Component);var _super=_createSuper(ListLights);function ListLights(){var _this;_classCallCheck(this,ListLights);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={lightInfo:\"\",lightLabels:[],power:\"off1\"};return _this;}_createClass(ListLights,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"componenetDidUpdate\",value:function componenetDidUpdate(){console.log(\"update\");}},{key:\"getData\",value:function getData(){var _this2=this;var url=\"https://api.lifx.com/v1/lights/all\";fetch(url,{method:'GET',headers:{'Authorization':token}}).then(function(response){return response.json();}).then(function(lightProps){_this2.setState({lightInfo:lightProps});for(var i=0;i<_this2.state.lightInfo.length;i++){var joined=_this2.state.lightLabels.concat(_this2.state.lightInfo[i]['label']);_this2.setState({lightLabels:joined});}}).catch(function(error){console.error(error);});}},{key:\"getChildState\",value:function getChildState(data){this.setState({lightInfo:data});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(Accordion,{children:this.state.lightLabels.map(function(listitem){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Button,style:{textDecoration:\"none\"},variant:\"link\",eventKey:_this3.state.lightLabels.indexOf(listitem).toString(),children:/*#__PURE__*/_jsx(LightStatus,{data:_this3.state,name:listitem})})}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:_this3.state.lightLabels.indexOf(listitem).toString(),children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(TogglePower,{data:_this3.state,name:listitem,onGetChildState:_this3.getChildState.bind(_this3)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(DisplayColor,{data:_this3.state,name:listitem,onGetChildState:_this3.getChildState.bind(_this3)}),/*#__PURE__*/_jsx(SetBrightness,{data:_this3.state,name:listitem,onGetChildState:_this3.getChildState.bind(_this3)})]})})]},listitem);})});}}]);return ListLights;}(Component);export default ListLights;","map":{"version":3,"sources":["C:/Users/61423/Documents/GitHub/hsantana92.github.io/src/ListLights/ListLights.js"],"names":["Component","Button","Card","Accordion","TogglePower","DisplayColor","LightStatus","SetBrightness","token","ListLights","state","lightInfo","lightLabels","power","getData","console","log","url","fetch","method","headers","then","response","json","lightProps","setState","i","length","joined","concat","catch","error","data","map","listitem","textDecoration","indexOf","toString","getChildState","bind"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport TogglePower from \"../TogglePower/TogglePower\";\r\nimport DisplayColor from \"../DisplayColor/DisplayColor\";\r\nimport LightStatus from \"../LightStatus/LightStatus\";\r\nimport SetBrightness from \"../SetBrightness/SetBrightness\";\r\n\r\n\r\nvar token = \"Bearer c21a99f98f3d64bce53933d23097cbd4fb880ecf476037f82be4c85eb84ce344\";\r\n\r\nclass ListLights extends Component{\r\n    state = {\r\n        lightInfo: \"\",\r\n        lightLabels: [],\r\n        power: \"off1\",\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        this.getData();\r\n    }\r\n\r\n    componenetDidUpdate(){\r\n        console.log(\"update\")\r\n    }\r\n\r\n    getData(){\r\n        const url = \"https://api.lifx.com/v1/lights/all\";\r\n        fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': token\r\n            },\r\n          })\r\n            .then(response => response.json())\r\n            .then((lightProps) => {\r\n \r\n                this.setState({lightInfo: lightProps})\r\n                \r\n                for (let i = 0; i < this.state.lightInfo.length; i++){\r\n                    var joined = this.state.lightLabels.concat(this.state.lightInfo[i]['label']);\r\n                    this.setState({ lightLabels: joined })\r\n                }             \r\n              })\r\n            .catch((error) => {\r\n              console.error(error);\r\n            });    \r\n    }\r\n\r\n\r\n    getChildState(data){\r\n        this.setState({lightInfo: data})\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            \r\n            <Accordion>\r\n                {this.state.lightLabels.map(listitem => (\r\n                    <Card key={listitem}>\r\n                        <Card.Header>\r\n                            <Accordion.Toggle as={Button} style={{textDecoration: \"none\"}} variant=\"link\" eventKey={this.state.lightLabels.indexOf(listitem).toString()}>\r\n                                {/* Displays light status component */}\r\n                                <LightStatus data={this.state}  name = {listitem}></LightStatus>\r\n                            </Accordion.Toggle>\r\n                        </Card.Header>\r\n                        <Accordion.Collapse eventKey={this.state.lightLabels.indexOf(listitem).toString()}>\r\n                            <Card.Body>\r\n                                {/* Displays the power status and passes the id and power status of this light to the Toggle Power component */}\r\n                                <TogglePower data={this.state} name = {listitem} onGetChildState={this.getChildState.bind(this)}></TogglePower>\r\n                                <br></br>\r\n                                {/* Displays color switcher component */}\r\n                                <DisplayColor data={this.state} name={listitem} onGetChildState={this.getChildState.bind(this)}></DisplayColor>\r\n                                {/* Displays set brightness component */}\r\n                                <SetBrightness data={this.state} name={listitem} onGetChildState={this.getChildState.bind(this)}></SetBrightness>\r\n                            </Card.Body>\r\n                        </Accordion.Collapse>\r\n                    </Card>\r\n                ))}\r\n            </Accordion>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListLights;"]},"metadata":{},"sourceType":"module"}