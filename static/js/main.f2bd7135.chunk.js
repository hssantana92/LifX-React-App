(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{51:function(t,e,a){},52:function(t,e,a){},65:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(19),r=a.n(o),s=(a(51),a(52),a(53),a(54),a(12)),l=a(13),c=a(16),h=a(15),d=a(22),u=a(34),b=a(33),g=a(2),f="Bearer c21a99f98f3d64bce53933d23097cbd4fb880ecf476037f82be4c85eb84ce344",p=function(t){Object(c.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={lightInfo:t.props.data.lightInfo},t}return Object(l.a)(a,[{key:"togglePower",value:function(){var t=this.props.data.lightInfo[this.props.data.lightLabels.indexOf(this.props.name)].id,e="https://api.lifx.com/v1/lights/".concat(t,"/toggle");fetch(e,{method:"POST",headers:{Authorization:f}}).then((function(t){return t.json()})).then((function(t){})).catch((function(t){console.error(t)}))}},{key:"lightSwitch",value:function(){var t=this.props.data.lightLabels.indexOf(this.props.name),e=this.props.data.lightInfo[t].id,a="on"===this.props.data.lightInfo[t].power?"off":"on",n="https://api.lifx.com/v1/lights/".concat(e,"/state"),i={power:a};fetch(n,{method:"PUT",headers:{Authorization:f,"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(t){return t.json()})).then((function(t){console.log(t.results)})).catch((function(t){console.error(t)})),this.updatePowerValue(a,t),this.updateParentState()}},{key:"updatePowerValue",value:function(t,e){var a=this.state.lightInfo;a[e].power=t,this.setState({lightInfo:a})}},{key:"updateParentState",value:function(){this.props.onGetChildState(this.state.lightInfo)}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"row justify-content-md-center",children:Object(g.jsx)("div",{className:"col col-md-2",children:Object(g.jsx)(d.a,{variant:"primary",onClick:this.lightSwitch.bind(this),children:"Toggle Power"})})})})}}]),a}(n.Component),j=a(9),v=a(83),x=a(80),O=Object(j.a)({root:{color:"white"},track:{height:"1px",background:"linear-gradient(90deg, rgba(255,109,0,1) 0%, rgba(255,166,32,1) 16%, rgba(255,198,72,1) 32%, rgba(255,207,151,1) 48%, rgba(254,233,157,1) 64%, rgba(254,248,224,1) 80%, rgba(255,255,255,1) 96%)"},rail:{background:"linear-gradient(90deg, rgba(255,109,0,1) 0%, rgba(255,166,32,1) 16%, rgba(255,198,72,1) 32%, rgba(255,207,151,1) 48%, rgba(254,233,157,1) 64%, rgba(254,248,224,1) 80%, rgba(255,255,255,1) 96%)",height:"10px"},thumb:{marginTop:.01,border:"1px solid grey",color:"black",backgroundColor:"white"}})(v.a),m=function(t){Object(c.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={lightColor:"3500",lightInfo:t.props.data.lightInfo},t}return Object(l.a)(a,[{key:"switchColor",value:function(){var t=this.props.data.lightLabels.indexOf(this.props.name),e=this.props.data.lightInfo[t].id,a="https://api.lifx.com/v1/lights/".concat(e,"/state"),n={color:{kelvin:this.state.lightColor}};fetch(a,{method:"PUT",headers:{Authorization:"Bearer c21a99f98f3d64bce53933d23097cbd4fb880ecf476037f82be4c85eb84ce344","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){console.log(t.results)})).catch((function(t){console.error(t)})),this.updateColorValue(this.state.lightColor,t),this.updateParentState()}},{key:"updateColorValue",value:function(t,e){var a=this.state.lightInfo;a[e].color.kelvin=t,this.setState({lightInfo:a})}},{key:"updateParentState",value:function(){this.props.onGetChildState(this.state.lightInfo)}},{key:"valuetext",value:function(t){return t}},{key:"sliderChange",value:function(t,e){console.log(e),this.setState({lightColor:e}),this.switchColor()}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(x.a,{id:"non-linear-slider",gutterBottom:!0,children:"Switch Color"}),Object(g.jsx)(O,{defaultValue:this.props.data.lightInfo[this.props.data.lightLabels.indexOf(this.props.name)].color.kelvin,getAriaValueText:this.valuetext.bind(this),onChangeCommitted:this.sliderChange.bind(this),"aria-labelledby":"discrete-slider-small-steps",step:500,marks:!0,min:1500,max:4500,valueLabelDisplay:"off"})]})}}]),a}(n.Component),y=a(81),C=a(82),k=a(41),S=a.n(k),I=Object(j.a)((function(t){return{root:{width:"fit-content",border:"1px solid ".concat(t.palette.divider),margin:"auto",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper,color:t.palette.text.secondary,"& svg":{margin:t.spacing(1.5)},"& hr":{margin:t.spacing(0,.5)}}}}))(y.a),w=function(t){Object(c.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.data.lightLabels.indexOf(this.props.name),e=this.props.data.lightInfo[t].color.kelvin,a="",n="lightbulb icon";return 4500===e?(a="black",n="lightbulb outline icon"):4e3===e?a="rgb(254,248,224)":3500===e?a="rgb(254,233,157)":3e3===e?a="rgb(255,207,151)":2500===e?a="rgb(255,198,72)":2e3===e?a="rgb(255,166,32)":1500===e&&(a="rgb(254,109,0)"),Object(g.jsx)("div",{children:Object(g.jsxs)(I,{container:!0,alignItems:"center",children:[Object(g.jsx)("text",{style:{padding:"10px",color:"black",textDecoration:"none"},children:this.props.name}),Object(g.jsx)(C.a,{style:{height:"auto"},orientation:"vertical",flexItem:!0}),Object(g.jsx)(S.a,{style:{color:"on"===this.props.data.lightInfo[t].power?"green":"#eb2a2a",fontSize:"30px"}}),Object(g.jsx)(C.a,{style:{height:"auto"},orientation:"vertical",flexItem:!0}),Object(g.jsx)("i",{style:{fontSize:"25px",marginBottom:"15px",color:a},class:n})]})})}}]),a}(n.Component),L=Object(j.a)({root:{},track:{},rail:{},thumb:{}})(v.a),P=function(t){Object(c.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={brightness:"1.0",lightInfo:t.props.data.lightInfo},t}return Object(l.a)(a,[{key:"brightnessSet",value:function(){var t=this.props.data.lightLabels.indexOf(this.props.name),e=this.props.data.lightInfo[t].id,a="https://api.lifx.com/v1/lights/".concat(e,"/state"),n={brightness:this.state.brightness};fetch(a,{method:"PUT",headers:{Authorization:"Bearer c21a99f98f3d64bce53933d23097cbd4fb880ecf476037f82be4c85eb84ce344","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){console.log(t.results)})).catch((function(t){console.error(t)})),this.updateColorValue(this.state.brightness,t),this.updateParentState()}},{key:"updateColorValue",value:function(t,e){var a=this.state.lightInfo;a[e].brightness=t,this.setState({lightInfo:a})}},{key:"updateParentState",value:function(){this.props.onGetChildState(this.state.lightInfo)}},{key:"valuetext",value:function(t){return t}},{key:"sliderChange",value:function(t,e){console.log(e),this.setState({brightness:e}),this.brightnessSet()}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(x.a,{id:"non-linear-slider",gutterBottom:!0,children:"Adjust Brightness"}),Object(g.jsx)(L,{defaultValue:this.props.data.lightInfo[this.props.data.lightLabels.indexOf(this.props.name)].brightness,getAriaValueText:this.valuetext.bind(this),onChangeCommitted:this.sliderChange.bind(this),"aria-labelledby":"discrete-slider-small-steps",step:.1,marks:!0,min:0,max:1,valueLabelDisplay:"off"})]})}}]),a}(n.Component),T=function(t){Object(c.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={lightInfo:"",lightLabels:[],power:"off1"},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componenetDidUpdate",value:function(){console.log("update")}},{key:"getData",value:function(){var t=this;fetch("https://api.lifx.com/v1/lights/all",{method:"GET",headers:{Authorization:"Bearer c21a99f98f3d64bce53933d23097cbd4fb880ecf476037f82be4c85eb84ce344"}}).then((function(t){return t.json()})).then((function(e){t.setState({lightInfo:e});for(var a=0;a<t.state.lightInfo.length;a++){var n=t.state.lightLabels.concat(t.state.lightInfo[a].label);t.setState({lightLabels:n})}})).catch((function(t){console.error(t)}))}},{key:"getChildState",value:function(t){this.setState({lightInfo:t})}},{key:"render",value:function(){var t=this;return Object(g.jsx)(b.a,{children:this.state.lightLabels.map((function(e){return Object(g.jsxs)(u.a,{children:[Object(g.jsx)(u.a.Header,{children:Object(g.jsx)(b.a.Toggle,{as:d.a,style:{textDecoration:"none"},variant:"link",eventKey:t.state.lightLabels.indexOf(e).toString(),children:Object(g.jsx)(w,{data:t.state,name:e})})}),Object(g.jsx)(b.a.Collapse,{eventKey:t.state.lightLabels.indexOf(e).toString(),children:Object(g.jsxs)(u.a.Body,{children:[Object(g.jsx)(p,{data:t.state,name:e,onGetChildState:t.getChildState.bind(t)}),Object(g.jsx)("br",{}),Object(g.jsx)(m,{data:t.state,name:e,onGetChildState:t.getChildState.bind(t)}),Object(g.jsx)(P,{data:t.state,name:e,onGetChildState:t.getChildState.bind(t)})]})})]},e)}))})}}]),a}(n.Component);var A=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:Object(g.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0219/0638/files/lifx_logo_9ae0aa6d-07df-41ba-b96d-0f400323e1b1_140x.png?v=1575366323",alt:"LifX"})}),Object(g.jsx)(T,{})]})},B=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,85)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;a(t),n(t),i(t),o(t),r(t)}))};r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(A,{})}),document.getElementById("root")),B()}},[[65,1,2]]]);
//# sourceMappingURL=main.f2bd7135.chunk.js.map